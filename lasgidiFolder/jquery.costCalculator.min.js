!function(t){"use strict";var a={formula:{},currency:"$",currencyPosition:"before",thousandthSeparator:",",decimalSeparator:".",updateHidden:""},e={init:function(e){return this.each(function(){e=t.extend(!1,a,e),t(this).data("cost-calculator-options",e),t(this).costCalculator("calculate")})},calculate:function(a){return this.each(function(){a=t(this).data("cost-calculator-options");var e,r=a.formula.split("+"),o=0,c=1;for(var i in r)if(e=r[i].split("*"),e.length>1){c=1;for(var n in e)c*=isNaN(t("#"+e[n]).val())?0:t("#"+e[n]).val();o+=c}else o+=isNaN(parseFloat(t("#"+r[i]).val()))?0:parseFloat(t("#"+r[i]).val());var l=new RegExp("\\d(?=(\\d{3})+\\"+a.decimalSeparator+")","g");t(this).html(("before"==a.currencyPosition?a.currency:"")+o.toFixed(2).replace(".",a.decimalSeparator).replace(l,"$&"+a.thousandthSeparator)+("after"==a.currencyPosition?a.currency:"")),"object"==jQuery.type(a.updateHidden)&&a.updateHidden.val(a.currency+o.toFixed(2).replace(".",a.decimalSeparator).replace(l,"$&"+a.thousandthSeparator))})}};jQuery.fn.costCalculator=function(t){return e[t]?e[t].apply(this,arguments):"object"!=typeof t&&t?void 0:e.init.apply(this,arguments)}}(jQuery);